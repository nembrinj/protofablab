<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Simon Ruffieux">
<meta name="dcterms.date" content="2024-09-26">
<meta name="keywords" content="Human-IST, ProtoFab, LearningLab, UniFR">

<title>Introduction to ROS</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="AN_01_ROS-Tbot3-Install_files/libs/clipboard/clipboard.min.js"></script>
<script src="AN_01_ROS-Tbot3-Install_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="AN_01_ROS-Tbot3-Install_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="AN_01_ROS-Tbot3-Install_files/libs/quarto-html/popper.min.js"></script>
<script src="AN_01_ROS-Tbot3-Install_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="AN_01_ROS-Tbot3-Install_files/libs/quarto-html/anchor.min.js"></script>
<link href="AN_01_ROS-Tbot3-Install_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="AN_01_ROS-Tbot3-Install_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="AN_01_ROS-Tbot3-Install_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="AN_01_ROS-Tbot3-Install_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="AN_01_ROS-Tbot3-Install_files/libs/bootstrap/bootstrap-e45286ae55112de182af3b94459e1a1c.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="..\..\..\AN_01_ROS-Tbot3-Install.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul></div></div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Introduction to ROS</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Simon Ruffieux </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">September 26, 2024</p>
    </div>
  </div>
  
    
  </div>
  

<div>
  <div class="keywords">
    <div class="block-title">Keywords</div>
    <p>Human-IST, ProtoFab, LearningLab, UniFR</p>
  </div>
</div>

</header>


<section id="protofab-assignment-1-ros-and-turtlebot3-installation" class="level1">
<h1>ProtoFab assignment 1: ROS and Turtlebot3 Installation</h1>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Robot Operating System (ROS) is&nbsp;an open-source framework that helps researchers and developers build and reuse code between robotics applications.&nbsp;Like most tools developed for robotics, it is mainly meant to work on Linux. Windows support is very limited and often dodgy.</p>
<p>In this document, we explain how to install ROS and the necessary packages to handle the Turtlebot3 robot that we will be using this year. The process should take about 30-60 minutes; mostly consisting in waiting for download and installation steps to complete.</p>
<p>Please make sure you have everything installed and ready for next week as we will be starting to use these tools for the assignment #2 !</p>
<p><u><strong>Important remarks:</strong></u></p>
<ul>
<li><p><strong>For Native Linux users</strong>: you should not have much difficulty installing the system and running it. Make sure you use Ubuntu 20.04. If you wish to keep a more up-to-date distribution for your normal work, you can use virtualbox and install Ubuntu 20.04 on a VM (see below for instructions).</p></li>
<li><p><strong>For Windows users</strong>: there are several options available: dual boot (Windows, Linux), virtual machine or running Linux with Windows Subsystem for Linux (WSL2). WSL lets developers install a Linux distribution (such as Ubuntu, OpenSUSE, Kali, Debian, Arch Linux, etc) and use Linux applications, utilities, and Bash command-line tools directly from Windows, unmodified, without the overhead of a traditional virtual machine or dual-boot setup. On the downside, networking and access to hardware material connected to the machine is sometimes slightly trickier (access to USB ports, access to network, etc.) and will generally require some work around to work as expected. We provide the instructions to install Ubuntu on WSL2 below, our recommended solution for Windows users.</p></li>
<li><p><strong>For Mac users</strong>: recent Macs have very limited compatibility with Linux. We apologize but there is not much you can do. UTM and Parallels might work but we have not tested and cannot provide support.</p></li>
<li><p><strong>For all</strong>: each ROS version is only guaranteed to be compatible with specific Linux distributions. We highly recommend that you use the versions indicated below to ensure compatibility with the future assignments. Please do not install ROS2 as it is very different from ROS1.</p></li>
</ul>
<p>Note that we have tested and validated the future assignments of the course using the distribution mentioned below. We will not provide support for other versions. Therefore, we strongly suggest you install these exact versions:</p>
<ul>
<li><p>Ubuntu 20.04 LTS</p></li>
<li><p>ROS1 Noetic</p></li>
</ul>
<section id="pre-requesites" class="level3">
<h3 class="anchored" data-anchor-id="pre-requesites">Pre-requesites</h3>
<ul>
<li>Basic knowledge of the Linux commands</li>
</ul>
</section>
</section>
<section id="install-ubuntu-on-windows" class="level2">
<h2 class="anchored" data-anchor-id="install-ubuntu-on-windows">Install Ubuntu on Windows</h2>
<p>This section is specific for Windows users. You will install Ubuntu using WSL2. For linux native users see next section</p>
<p><u><strong>Requirements:</strong></u></p>
<ul>
<li>You need Windows 10 or Windows 11 to use WSL2.</li>
</ul>
<section id="how-to-install-ubuntu-on-windows-using-wsl2" class="level3">
<h3 class="anchored" data-anchor-id="how-to-install-ubuntu-on-windows-using-wsl2">How to install Ubuntu on Windows using WSL2</h3>
<p>You can follow the tutorial provided on the link below to install Ubuntu 20.04 LTS on Windows:</p>
<p><a href="https://canonical-ubuntu-wsl.readthedocs-hosted.com/en/latest/guides/install-ubuntu-wsl2/" class="uri">https://canonical-ubuntu-wsl.readthedocs-hosted.com/en/latest/guides/install-ubuntu-wsl2/</a></p>
<p>Once Ubuntu (20.04) has been successfully installed on your machine, you can start it from a Powershell terminal.</p>
<ol type="1">
<li><p>Open a Windows Powershell Terminal</p></li>
<li><p>Click on the little arrow on the top-menu and select Ubuntu to start a new terminal. You can start as many terminals as you want.</p></li>
</ol>
<p><u><strong>Hint:</strong></u> If you hold “Alt” while clicking on Ubuntu, the terminal will be split in multiple windows instead of creating a new tab (see screenshot below).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image1.png" class="img-fluid figure-img" style="width:90.0%" data-margin="auto"></p>
<figcaption>Screenshot of Powershell Window with two Linux Ubuntu terminals running in a split window</figcaption>
</figure>
</div>
<p>Finally, we highly recommend that you set your Ubuntu in mirrored mode. Doing so will ensure that you have the same network (IP) for both Ubuntu and your Windows OS. You can find more details on this <a href="https://learn.microsoft.com/en-us/windows/wsl/networking#mirrored-mode-networking">link</a> and this <a href="https://learn.microsoft.com/en-us/windows/wsl/wsl-config#configuration-settings-for-wslconfig">link</a>.<br>
To enable mirrored mode, create a .wslconfig file in your Windows home user directory <em>(C:\Users\YourUserName)</em> and insert the lines provided below in your file.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a># Content of the .wslconfig file located in (C:\Users\YourUserName)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a># Note that theses settings apply across all Linux distros running on WSL 2 (.wslconfig)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>[wsl2]</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>networkingMode=mirrored </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Now restart your WSL (“wsl –shutdown” from a Powershell terminal) and finally start a new Ubuntu terminal. You can check if the operation was succesful using the command below from your Ubuntu terminal (it should report “mirrored”).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] wslinfo --networking-mode</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="install-ubuntu-on-linux" class="level2">
<h2 class="anchored" data-anchor-id="install-ubuntu-on-linux">Install Ubuntu on Linux</h2>
<p>This section is specific for Linux native users. You will install Ubuntu 20.04 as required for ROS using virtualbox.</p>
<p><u><strong>Requirements:</strong></u></p>
<ul>
<li>You need to install vritualbox</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] sudo apt install virtualbox</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="how-to-install-ubuntu-20.04-on-linux-using-virtualbox" class="level3">
<h3 class="anchored" data-anchor-id="how-to-install-ubuntu-20.04-on-linux-using-virtualbox">How to install Ubuntu 20.04 on Linux using virtualbox</h3>
<p>You can follow the tutorial provided on the link below to install Ubuntu 20.04 LTS on virtualbox:</p>
<p><a href="https://www.pragmaticlinux.com/2021/04/how-to-install-ubuntu-desktop-20-04-lts-in-virtualbox/" class="uri">https://www.pragmaticlinux.com/2021/04/how-to-install-ubuntu-desktop-20-04-lts-in-virtualbox/</a></p>
<p>Once Ubuntu (20.04) has been successfully installed, you need to configure the network to share the connection with your host machine.</p>
<ol type="1">
<li><p>Open the VM Settings <span class="math inline">\(\rightarrow\)</span> Network. You should have a default NAT adapter enabled</p></li>
<li><p>Enable a second adapter, choosing <code>Bridged Adapter'' and selecting the identifier of your wifi adapter (usually looking like wlxxxxx), expand the</code> Advanced’’ menu, select <code>Allow All'' for the Promiscuous Mode, and finally tick the</code>Cable Connected’’ box, and press OK</p></li>
<li><p>On your host machine, check your IP address</p></li>
</ol>
<div class="sourceCode" id="cb4"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] ip add</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/image_ip_linuxVM.png" class="img-fluid figure-img" style="width:90.0%" data-margin="auto"></p>
<figcaption>Screenshot of IP address in host (left) and VM (right)</figcaption>
</figure>
</div>
<ol start="4" type="1">
<li><p>Start your VM, check that your IP addpress has the same kind of value than the host. If you cannot get a connection, make sure you are indeed connected to the adpater through Devices <span class="math inline">\(\rightarrow\)</span> Network <span class="math inline">\(\rightarrow\)</span> Connect Network Adapter 2.</p></li>
<li><p>If you cannot establish a connection (make sure your host is connected to the wifi first), your wifi adapter might not allow it. To resolve this, follow these steps: 1. Insert a USB Wifi adapter (we can provide one) 2. Connect this adapter to the Wifi on the host machine 3. Select this adapter for the bridged adapter in the VM settings 4. Start your VM and check the IP address</p></li>
</ol>
</section>
</section>
<section id="install-and-configure-ros-noetic-with-turtlebot3" class="level2">
<h2 class="anchored" data-anchor-id="install-and-configure-ros-noetic-with-turtlebot3">Install and configure ROS Noetic (with Turtlebot3)</h2>
<p>Now that you have a working Ubuntu (20.04) on your machine, you can simply follow the instructions below to install ROS and the necessary packages to manage the Turtlebot3 robot.</p>
<p>The instructions have been adapted/inspired from the official <a href="https://emanual.robotis.com/docs/en/platform/turtlebot3/quick-start/#pc-setup-2">Turtlebot3 manual</a>. If you look information from the official manual mentioned above, make sure you select the right ROS version: <strong>Noetic</strong> (on the top of the page).</p>
<p><strong>WARNING</strong>: it is important to use the <strong>right version of ROS (Noetic)</strong> for the <strong>right version of Ubuntu (20.04)</strong>, otherwise it is not guaranteed to work. There is a more recent version of ROS (ROS2), however we decided to use ROS1 as it is still more widely used in research and has more examples and modules available.</p>
<ol type="1">
<li><p>Install ROS Noetic using the commands below<br>
<strong>Note:</strong> Updating and upgrading can take some time … be patient</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] sudo apt update</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] sudo apt upgrade</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] wget https://raw.githubusercontent.com/ROBOTIS-GIT/robotis_tools/master/install_ros_noetic.sh</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] chmod 755 ./install_ros_noetic.sh</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] bash ./install_ros_noetic.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Install necessary packages for ROS</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>[localpc-terminal-1] sudo apt install ros-noetic-joy ros-noetic-teleop-twist-joy ros-noetic-teleop-twist-keyboard ros-noetic-laser-proc ros-noetic-rgbd-launch ros-noetic-rosserial-arduino  ros-noetic-rosserial-python ros-noetic-rosserial-client ros-noetic-rosserial-msgs ros-noetic-amcl ros-noetic-map-server ros-noetic-move-base ros-noetic-urdf ros-noetic-xacro ros-noetic-compressed-image-transport ros-noetic-rqt* ros-noetic-rviz ros-noetic-gmapping ros-noetic-navigation ros-noetic-interactive-markers</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Source your base catkin_ws workspace and build it</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] source ~/catkin_ws/devel/setup.bash</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] cd ~/catkin_ws/</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] catkin_make</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Download and install the Turtlebot3 packages (3 packages for real robot and 1 for simulating the robot)</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] mkdir -p ~/profab_ws/src</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] cd ~/profab_ws/src/</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] git clone -b noetic https://github.com/ROBOTIS-GIT/DynamixelSDK.git</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] git clone -b noetic https://github.com/ROBOTIS-GIT/turtlebot3_msgs.git</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] git clone -b noetic https://github.com/ROBOTIS-GIT/turtlebot3.git</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] git clone -b noetic https://github.com/ROBOTIS-GIT/turtlebot3_simulations.git</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] cd ~/profab_ws/</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] catkin_make</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
<p><u><strong>Hint</strong></u><strong>:</strong> Once you installed everything, I suggest sourcing your workspaces in your “~/.bashrc” file to ensure you can run the command from any terminal. To do so, open your “~/.bashrc” file and add the following lines to the file: “source ~/profab_ws/devel/devel.bash” and “source ~/catkin_ws/devel/devel.bash”. To open the file, you can either use the “nano” command line editor or use “code” if you prefer working with a GUI (“code” should open visual studio code).</p>
<ul>
<li><p>Go to your home directory and open your bashrc file</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] cd ~       </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] code .bashrc</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>or, in a single command</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>[localpc-terminal] code ~/.bashrc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>Source your bashrc file to apply changes. Source it on all your open terminals (if any)</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a> [localpc-terminal] source ~/.bashrc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
<p>Here are the lines I added in my own .bashrc file</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a># Added for ROS integration within terminals</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>source ~/catkin_ws/devel/setup.bash</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>source ~/profab_ws/devel/setup.bash</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a># Added by SR to enable graphical library use for ROS. This is needed for the turtlebot3 simulation to work properly and to avoid errors related to OpenGL when running rviz or Gazebo. </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>export LIBGL_ALWAYS_SOFTWARE=1</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>export TURTLEBOT3_MODEL=burger</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a># Real robot (parameters to use when using real robot. Please update IPs according to your system)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>#export ROS_MASTER_URI=http://192.168.176.24:11311</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>#export ROS_HOSTNAME=192.168.17.24</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a># Simulation (parameters to use when using Gazebo and simulated Turtelbot3)</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>export ROS_MASTER_URI=http://127.0.0.1:11311</span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>export ROS_HOSTNAME=127.0.0.1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>For your personal knowledge:</strong> What is a bashrc file? It is&nbsp;an important script that allows users(and geeks) to customize their Bash shell environment on Linux systems. The .bashrc file is your personal script that automatically configures your environment every time you open a new terminal window, enabling personalization through aliases, functions, environment variables and command execution.</p>
<section id="quick-test" class="level4">
<h4 class="anchored" data-anchor-id="quick-test">Quick Test</h4>
<p>To verify the success of your installation, you can start the following commands. Note that each command must be run in a distinct terminal. You should be able to see the turtlebot simulation as illustrated in the figure below.</p>
<ul>
<li><p>In a first terminal, start roscore. Roscore is the main server orchestrating ROS.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>[localpc-terminal-1] roscore</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>In a second terminal, start gazebo simulator with the Turtlebot3 world <strong>Note:</strong> you can also use <em>turtlebot3_empty_world.launch</em> to start an empty world intead and save some computational resources.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>[localpc-terminal-2] roslaunch turtlebot3_gazebo turtlebot3_world.launch</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li><p>In a third terminal, start teleop to operate the robot. You should now be able to move the robot using “awsdx” keys on your keyboard. (The focus must be set on the teleop terminal)</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode default code-with-copy"><code class="sourceCode default"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>[localpc-terminal-3] roslaunch turtlebot3_teleop turtlebot3_teleop_key.launch</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/gazebo_turtlebot3.png" class="img-fluid figure-img" style="width:90.0%" data-margin="auto"></p>
<figcaption>Screenshot of the three distinct terminal and gazebo simulation running.</figcaption>
</figure>
</div>
</section>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>